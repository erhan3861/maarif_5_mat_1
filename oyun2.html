<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hesap Ustasƒ± - G√∂rev 2</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* --- Tasarƒ±m Dili: Hesap Makinesi / LCD Ekran --- */
        body {
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', sans-serif;
            background: radial-gradient(circle, #2b32b2, #1488cc);
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            overflow: hidden;
        }

        /* Ana √áer√ßeve */
        .calculator-frame {
            background: #222;
            padding: 30px;
            border-radius: 30px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5), inset 0 0 20px rgba(255,255,255,0.1);
            width: 320px;
            border: 4px solid #444;
            position: relative;
        }

        /* G√∂rev Ekranƒ± (Metin) */
        .mission-screen {
            background: #333;
            color: #ffcc00;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            font-size: 1rem;
            text-align: center;
            border: 1px solid #555;
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        /* LCD Sayƒ± Ekranƒ± */
        .lcd-screen {
            background: #9ea792; /* Klasik LCD ye≈üili */
            color: #222;
            font-family: 'Orbitron', monospace;
            font-size: 2rem;
            padding: 15px;
            text-align: right;
            border-radius: 5px;
            margin-bottom: 25px;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.2);
            letter-spacing: 2px;
            overflow: hidden;
            height: 40px;
            position: relative;
        }
        
        .lcd-screen::after {
            content: "8888888888"; /* Ghost numbers effect */
            position: absolute;
            right: 15px;
            color: rgba(0,0,0,0.05);
            z-index: 0;
        }

        /* Tu≈ü Takƒ±mƒ± */
        .keys-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
        }

        .key {
            background: #444;
            color: white;
            border: none;
            padding: 20px;
            font-size: 1.5rem;
            border-radius: 15px;
            cursor: pointer;
            box-shadow: 0 5px 0 #222;
            transition: all 0.1s;
            font-family: 'Orbitron', sans-serif;
        }

        .key:active {
            transform: translateY(4px);
            box-shadow: none;
        }

        .key-zero {
            grid-column: span 2; /* 0 tu≈üu geni≈ü olsun */
        }

        .key-clear {
            background: #c0392b; /* Kƒ±rmƒ±zƒ± */
            box-shadow: 0 5px 0 #962d22;
        }

        .key-enter {
            background: #27ae60; /* Ye≈üil */
            box-shadow: 0 5px 0 #219150;
        }

        /* Geri Bildirim */
        .feedback-overlay {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9);
            border-radius: 25px;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 10;
            text-align: center;
        }

        .next-btn {
            margin-top: 20px;
            padding: 10px 30px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-size: 1rem;
        }

        .back-btn {
            position: absolute;
            top: 20px; left: 20px;
            background: rgba(255,255,255,0.2);
            color: white;
            padding: 8px 15px;
            border-radius: 10px;
            text-decoration: none;
            font-size: 0.9rem;
        }

        /* Puan Kartƒ± */
        .level-tag {
            position: absolute;
            top: -15px;
            right: 20px;
            background: #ffcc00;
            color: #000;
            padding: 5px 15px;
            border-radius: 10px;
            font-weight: bold;
            font-size: 0.9rem;
        }

    </style>
</head>
<body>

    <a href="index.html" class="back-btn">‚¨Ö √áƒ±kƒ±≈ü</a>

    <div class="calculator-frame">
        <div class="level-tag">Seviye: <span id="level-indicator">1/5</span></div>
        
        <div class="mission-screen" id="mission-text">
            Sayƒ± Y√ºkleniyor...
        </div>

        <div class="lcd-screen" id="display">0</div>

        <div class="keys-grid">
            <button class="key" onclick="pressNum(7)">7</button>
            <button class="key" onclick="pressNum(8)">8</button>
            <button class="key" onclick="pressNum(9)">9</button>
            
            <button class="key" onclick="pressNum(4)">4</button>
            <button class="key" onclick="pressNum(5)">5</button>
            <button class="key" onclick="pressNum(6)">6</button>
            
            <button class="key" onclick="pressNum(1)">1</button>
            <button class="key" onclick="pressNum(2)">2</button>
            <button class="key" onclick="pressNum(3)">3</button>
            
            <button class="key key-clear" onclick="clearScreen()">C</button>
            <button class="key" onclick="pressNum(0)">0</button>
            <button class="key key-enter" onclick="checkAnswer()">=</button>
        </div>

        <div class="feedback-overlay" id="feedback">
            <h2 id="fb-title">DOƒûRU!</h2>
            <p id="fb-msg" style="color:#ddd; padding:0 20px;">Sayƒ±larƒ± m√ºkemmel √ßevirdin.</p>
            <button class="next-btn" onclick="nextLevel()">Devam Et</button>
        </div>
    </div>

    <script>
        // --- SORU HAVUZU ---
        // √ñƒürencilerin en √ßok hata yaptƒ±ƒüƒ± "sƒ±fƒ±rlƒ±" sayƒ±lar se√ßildi.
        const levels = [
            { text: "On iki bin be≈ü y√ºz", val: "12500" }, // Kolay Ba≈ülangƒ±√ß
            { text: "√ú√ß milyon d√∂rt y√ºz bin", val: "3400000" }, // Bol sƒ±fƒ±rlƒ± son
            { text: "ƒ∞ki milyon be≈ü", val: "2000005" }, // Hileli: Arada √ßok 0 var
            { text: "Yedi y√ºz bin yetmi≈ü", val: "700070" }, // Binler b√∂l√ºƒü√ºnde 0
            { text: "On be≈ü milyon on be≈ü bin on be≈ü", val: "15015015" } // Tekerleme gibi
        ];

        let currentLevel = 0;
        let currentInput = "";

        window.onload = loadLevel;

        function loadLevel() {
            if (currentLevel >= levels.length) {
                showEndGame();
                return;
            }
            
            document.getElementById('mission-text').innerText = levels[currentLevel].text;
            document.getElementById('level-indicator').innerText = (currentLevel + 1) + "/" + levels.length;
            document.getElementById('feedback').style.display = 'none';
            clearScreen();
        }

        function pressNum(num) {
            // ƒ∞lk karakter 0 olamaz (tek ba≈üƒ±na 0 hari√ß)
            if (currentInput === "0" && num !== 0) {
                currentInput = "";
            }
            
            // Maksimum 9 basamak (Ekran ta≈ümasƒ±n)
            if (currentInput.length < 9) {
                if (currentInput === "" && num === 0) return; // Ba≈üa 0 yazma
                currentInput += num;
                updateDisplay();
            }
        }

        function clearScreen() {
            currentInput = "";
            updateDisplay();
        }

        function updateDisplay() {
            // Ekranda basamak gruplarƒ± g√∂r√ºns√ºn diye format atabiliriz ama
            // Hesap makinesi mantƒ±ƒüƒ± olduƒüu i√ßin ham haliyle bƒ±rakƒ±yoruz.
            // Sadece bo≈üsa 0 g√∂ster.
            const display = document.getElementById('display');
            display.innerText = currentInput === "" ? "0" : currentInput;
            
            // Ger√ßek√ßi yanƒ±p s√∂nme efekti (opsiyonel)
            display.style.opacity = 0.5;
            setTimeout(() => display.style.opacity = 1, 50);
        }

        function checkAnswer() {
            const correctVal = levels[currentLevel].val;
            const fbScreen = document.getElementById('feedback');
            const fbTitle = document.getElementById('fb-title');
            const fbMsg = document.getElementById('fb-msg');

            if (currentInput === correctVal) {
                // DOƒûRU
                fbTitle.innerText = "‚úÖ HARƒ∞KA!";
                fbTitle.style.color = "#2ecc71";
                fbMsg.innerText = "Sayƒ±yƒ± doƒüru yazdƒ±n. Basamaklar tam yerinde!";
                currentLevel++; // Puanƒ± burada artƒ±rƒ±yoruz, butona basƒ±nca sonraki level gelecek.
                
                // Next butonu i≈ülevini deƒüi≈ütir (Sadece ileri sar)
                document.querySelector('.next-btn').onclick = nextLevel;
                document.querySelector('.next-btn').innerText = "Sonraki Soru";

            } else {
                // YANLI≈û
                fbTitle.innerText = "‚ö†Ô∏è Dƒ∞KKAT!";
                fbTitle.style.color = "#e74c3c";
                
                // Hata analizi
                if (currentInput.length < correctVal.length) {
                    fbMsg.innerText = "Eksik basamak girdin! Aradaki 'sƒ±fƒ±rlarƒ±' (0) unuttun mu?";
                } else if (currentInput.length > correctVal.length) {
                    fbMsg.innerText = "√áok fazla basamak girdin.";
                } else {
                    fbMsg.innerText = "Rakamlar karƒ±≈ütƒ±. Tekrar dene.";
                }

                // Butonu "Tekrar Dene" yap
                document.querySelector('.next-btn').onclick = () => {
                    fbScreen.style.display = 'none';
                    clearScreen();
                };
                document.querySelector('.next-btn').innerText = "Tekrar Dene";
            }
            
            fbScreen.style.display = 'flex';
        }

        function nextLevel() {
            loadLevel();
        }

        function showEndGame() {
            document.getElementById('mission-text').innerText = "G√ñREV TAMAMLANDI!";
            document.getElementById('feedback').style.display = 'flex';
            document.getElementById('fb-title').innerText = "üèÜ HESAP USTASI";
            document.getElementById('fb-msg').innerText = "Milyonlu sayƒ±larƒ± hatasƒ±z yazƒ±yorsun.";
            
            const btn = document.querySelector('.next-btn');
            btn.innerText = "Ana Men√ºye D√∂n";
            btn.onclick = () => window.location.href = 'index.html';
        }

    </script>
</body>
</html>